{% extends 'base.html' %}
{% block title %}Home  {% endblock title %}
{% block body %}

    <div class="container my-3">
      <h2>Add your Todos</h2>
      <form action="/" method="POST">
        <div class="form-group">
          <label for="title">Todo Title</label>
          <input type="text" class="form-control" name="title" id="title" aria-describedby="emailHelp"
        </div>
        <div class="form-group">
          <label for="desc">Todo Description</label>
          <input type="text" class="form-control" name ="desc"  id="desc" 
        </div>

        <button type="submit" class="btn btn-outline-dark" style="margin-top: 10px;">Submit</button>
      </form>
    </div>
    <div class="container my-3">
      <h2>Your Todos</h2>
      
          {% if allTodo|length ==0 %}
            
          <div class="alert alert-dark" role="alert">
            No Records are present, Please Add something!
          </div>
            {% else %}
            <table class="table">
              <thead>
                <tr>
                  <th scope="col">SNo</th>
                  <th scope="col">Title</th>
                  <th scope="col">Description</th>
                  <th scope="col">Time</th>
                  <th scope="col">Actions</th>
                </tr>
              </thead>
              
              <tbody>
          {% for todo in allTodo %}
          <tr>
            <th scope="row">{{loop.index}}</th>
            <td>{{todo.title}}</td>
            <td>{{todo.desc}}</td>
            <td>{{todo.date_created}}</td>
            <td>
              <a href ="/update/{{todo.sno}}" type="button" class="btn btn-outline-dark btn-sm mx-1">Update</button>
              <a href ="/delete/{{todo.sno}}" type="button" class="btn btn-outline-dark btn-sm mx-1">Delete</button>
            </td>
          </tr>
          
          {% endfor %}
        </tbody>
        </table>
          {% endif %}
    
        
    </div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script
      src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
      integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
      integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
      integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
      crossorigin="anonymous"
    ></script>


    {% endblock body %}    
